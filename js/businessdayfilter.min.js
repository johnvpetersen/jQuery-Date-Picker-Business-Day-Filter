/*!
 * jQuery Date Picker Business Day Filter Plugin v1.0.0
 * https://github.com/johnvpetersen/jQuery-Date-Picker-Business-Day-Filter
 *
 * Copyright 2011, John V. Petersen
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes jquery-1.6.2.js
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 
 * Includes jQuery UI 1.8.16
 *
 * Copyright 2011, (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 *
 * Date: Sun Aug 28 11:18:00 2011 -0400
 */ 
(function(a){a.fn.businessdayfilter=function(b){var c=a(this[0]).attr("class").split(" ");if(a.inArray("hasDatepicker",c)==-1){return}var d={holidayList:null,disableWeekends:false};if(b){a.extend(d,b)}if(d.holidayList==null&&d.disableWeekends==false)return;var e=this[0];var f=new Array;if(d.holidayList!=null){var g=-1;a.each(d.holidayList,function(a,b){g++;if(b.holiday.date!=null){f[g]=b.holiday.date}else{console.log('Error processing your holiday list. Review the example provided and make sure each object as a date attribute. Holiday object must conform to the following: {"holiday":{"name":"New Years Day","date":"1-1-2011"}}')}})}a(e).data("disableWeekends",d.disableWeekends);a(e).data("holidays",f);a(e).datepicker("option","beforeShowDay",function(b){if(b.getDay()==0||b.getDay()==6)return[!a(this).data("disableWeekends")];if(a(this).data("holidays")==null)return[true];var c=(b.getMonth()+1).toString()+"-"+b.getDate().toString()+"-"+b.getFullYear().toString();if(a.inArray(c,a(this).data("holidays"))>-1)return[false];return[true]})}})(jQuery)